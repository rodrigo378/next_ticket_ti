@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================= THEMING ================= */
@layer base {
  /* Tema claro (por defecto) */
  :root {
    /* tokens neutrales */
    --font-ui: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", monospace;
    --text-size: 16px;
    --line-height: 1.5;

    /* tokens de color (light) */
    --background: #ffffff;
    --foreground: #0f172a;
    --brand: #e91e63;
    --muted: #475569;

    --select-item-selected-bg: color-mix(
      in srgb,
      var(--foreground) 8%,
      transparent
    );
  }

  /* Tema oscuro (activado con <html class="dark">) */
  .dark {
    --background: #0b1220;
    --foreground: #e6e8ea;
    --brand: #e91e63;
    --muted: #9aa4b2;

    --select-item-selected-bg: color-mix(
      in srgb,
      var(--foreground) 22%,
      transparent
    );
  }

  html,
  body {
    font-family: var(--font-ui);
    font-variant-numeric: tabular-nums;
    font-size: var(--text-size);
    line-height: var(--line-height);
    min-height: 100%;
    background: var(--background);
    color: var(--foreground);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Opcional: monospace para bloques de código */
  code,
  pre,
  kbd,
  samp,
  .code {
    font-family: var(--font-mono);
    font-size: 0.95rem;
    line-height: 1.45;
  }

  /* Opcional: selección dependiente del tema */
  ::selection,
  ::-moz-selection {
    background-color: color-mix(in srgb, var(--brand) 18%, transparent);
    color: var(--foreground);
  }

  a,
  button {
    -webkit-tap-highlight-color: transparent;
  }
}

/* =============== UTILITIES =============== */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* ===== Respeto a reduce motion ===== */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
  }
}

/* AntD Select: color del item SELECCIONADO acorde al tema */
.ant-select-dropdown
  .ant-select-item-option-selected:not(.ant-select-item-option-disabled) {
  background-color: var(--select-item-selected-bg) !important;
  color: var(--ant-color-text) !important;
}

/* (opcional) color del check del seleccionado */
.ant-select-dropdown
  .ant-select-item-option-selected
  .ant-select-item-option-state {
  color: var(--ant-color-text) !important;
}
